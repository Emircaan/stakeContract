{"abi":[{"type":"function","name":"s_balances","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"stake","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"token","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"error","name":"TransferFailed","inputs":[]}],"bytecode":{"object":"0x608060405234801561001057600080fd5b5061023d806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80637acb77571461003b578063ab32eb6914610063575b600080fd5b61004e610049366004610176565b610091565b60405190151581526020015b60405180910390f35b6100836100713660046101a2565b60006020819052908152604090205481565b60405190815260200161005a565b336000908152602081905260408120805484919083906100b29084906101c4565b90915550506040516323b872dd60e01b8152336004820152306024820152604481018490526000906001600160a01b038416906323b872dd906064016020604051808303816000875af115801561010d573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061013191906101e5565b905080610151576040516312171d8360e31b815260040160405180910390fd5b90505b92915050565b80356001600160a01b038116811461017157600080fd5b919050565b6000806040838503121561018957600080fd5b823591506101996020840161015a565b90509250929050565b6000602082840312156101b457600080fd5b6101bd8261015a565b9392505050565b8082018082111561015457634e487b7160e01b600052601160045260246000fd5b6000602082840312156101f757600080fd5b8151801515811461015157600080fdfea2646970667358221220925b0d372782d36cc97c27ad12428109029b963e71e65a5d45971de94519c55564736f6c63430008170033","sourceMap":"148:405:6:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106100365760003560e01c80637acb77571461003b578063ab32eb6914610063575b600080fd5b61004e610049366004610176565b610091565b60405190151581526020015b60405180910390f35b6100836100713660046101a2565b60006020819052908152604090205481565b60405190815260200161005a565b336000908152602081905260408120805484919083906100b29084906101c4565b90915550506040516323b872dd60e01b8152336004820152306024820152604481018490526000906001600160a01b038416906323b872dd906064016020604051808303816000875af115801561010d573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061013191906101e5565b905080610151576040516312171d8360e31b815260040160405180910390fd5b90505b92915050565b80356001600160a01b038116811461017157600080fd5b919050565b6000806040838503121561018957600080fd5b823591506101996020840161015a565b90509250929050565b6000602082840312156101b457600080fd5b6101bd8261015a565b9392505050565b8082018082111561015457634e487b7160e01b600052601160045260246000fd5b6000602082840312156101f757600080fd5b8151801515811461015157600080fdfea2646970667358221220925b0d372782d36cc97c27ad12428109029b963e71e65a5d45971de94519c55564736f6c63430008170033","sourceMap":"148:405:6:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;229:322;;;;;;:::i;:::-;;:::i;:::-;;;616:14:9;;609:22;591:41;;579:2;564:18;229:322:6;;;;;;;;177:45;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;980:25:9;;;968:2;953:18;177:45:6;834:177:9;229:322:6;320:10;293:4;309:22;;;;;;;;;;:32;;335:6;;309:22;293:4;;309:32;;335:6;;309:32;:::i;:::-;;;;-1:-1:-1;;366:107:6;;-1:-1:-1;;;366:107:6;;406:10;366:107;;;1483:34:9;438:4:6;1533:18:9;;;1526:43;1585:18;;;1578:34;;;351:12:6;;-1:-1:-1;;;;;366:26:6;;;;;1418:18:9;;366:107:6;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;351:122;;488:7;483:37;;504:16;;-1:-1:-1;;;504:16:6;;;;;;;;;;;483:37;537:7;-1:-1:-1;229:322:6;;;;;:::o;14:173:9:-;82:20;;-1:-1:-1;;;;;131:31:9;;121:42;;111:70;;177:1;174;167:12;111:70;14:173;;;:::o;192:254::-;260:6;268;321:2;309:9;300:7;296:23;292:32;289:52;;;337:1;334;327:12;289:52;373:9;360:23;350:33;;402:38;436:2;425:9;421:18;402:38;:::i;:::-;392:48;;192:254;;;;;:::o;643:186::-;702:6;755:2;743:9;734:7;730:23;726:32;723:52;;;771:1;768;761:12;723:52;794:29;813:9;794:29;:::i;:::-;784:39;643:186;-1:-1:-1;;;643:186:9:o;1016:222::-;1081:9;;;1102:10;;;1099:133;;;1154:10;1149:3;1145:20;1142:1;1135:31;1189:4;1186:1;1179:15;1217:4;1214:1;1207:15;1623:277;1690:6;1743:2;1731:9;1722:7;1718:23;1714:32;1711:52;;;1759:1;1756;1749:12;1711:52;1791:9;1785:16;1844:5;1837:13;1830:21;1823:5;1820:32;1810:60;;1866:1;1863;1856:12","linkReferences":{}},"methodIdentifiers":{"s_balances(address)":"ab32eb69","stake(uint256,address)":"7acb7757"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"TransferFailed\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"s_balances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"stake\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/StakeContract.sol\":\"StakeContract\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xc6a8ff0ea489379b61faa647490411b80102578440ab9d84e9a957cc12164e70\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0ea104e577e63faea3b69c415637e99e755dcbf64c5833d7140c35a714d6d90c\",\"dweb:/ipfs/Qmau6x4Ns9XdyynRCNNp3RhLqijJjFm7z5fyZazfYFGYdq\"]},\"src/StakeContract.sol\":{\"keccak256\":\"0x458b3cfefc8b79624edff53792c05cfbd156ee278d17f54c6ad6dca80174cd53\",\"license\":\"UNLICENSED\",\"urls\":[\"bzz-raw://fec446c0deed28187674fa553d3db26a16de13e5239f7ed9164fe25043e5c5b1\",\"dweb:/ipfs/QmWKpanhehFSrsbz8aSt6YpRni1Pfkdhaf12uJBbwhMGf2\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"TransferFailed"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"s_balances","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"token","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"stake","outputs":[{"internalType":"bool","name":"","type":"bool"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/StakeContract.sol":"StakeContract"},"libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0xc6a8ff0ea489379b61faa647490411b80102578440ab9d84e9a957cc12164e70","urls":["bzz-raw://0ea104e577e63faea3b69c415637e99e755dcbf64c5833d7140c35a714d6d90c","dweb:/ipfs/Qmau6x4Ns9XdyynRCNNp3RhLqijJjFm7z5fyZazfYFGYdq"],"license":"MIT"},"src/StakeContract.sol":{"keccak256":"0x458b3cfefc8b79624edff53792c05cfbd156ee278d17f54c6ad6dca80174cd53","urls":["bzz-raw://fec446c0deed28187674fa553d3db26a16de13e5239f7ed9164fe25043e5c5b1","dweb:/ipfs/QmWKpanhehFSrsbz8aSt6YpRni1Pfkdhaf12uJBbwhMGf2"],"license":"UNLICENSED"}},"version":1},"ast":{"absolutePath":"src/StakeContract.sol","id":3128,"exportedSymbols":{"IERC20":[3021],"StakeContract":[3127],"TransferFailed":[3082]},"nodeType":"SourceUnit","src":"39:515:6","nodes":[{"id":3079,"nodeType":"PragmaDirective","src":"39:24:6","nodes":[],"literals":["solidity","^","0.8",".13"]},{"id":3080,"nodeType":"ImportDirective","src":"65:56:6","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","file":"@openzeppelin/contracts/token/ERC20/IERC20.sol","nameLocation":"-1:-1:-1","scope":3128,"sourceUnit":3022,"symbolAliases":[],"unitAlias":""},{"id":3082,"nodeType":"ErrorDefinition","src":"123:23:6","nodes":[],"errorSelector":"90b8ec18","name":"TransferFailed","nameLocation":"129:14:6","parameters":{"id":3081,"nodeType":"ParameterList","parameters":[],"src":"143:2:6"}},{"id":3127,"nodeType":"ContractDefinition","src":"148:405:6","nodes":[{"id":3086,"nodeType":"VariableDeclaration","src":"177:45:6","nodes":[],"constant":false,"functionSelector":"ab32eb69","mutability":"mutable","name":"s_balances","nameLocation":"212:10:6","scope":3127,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"typeName":{"id":3085,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":3083,"name":"address","nodeType":"ElementaryTypeName","src":"185:7:6","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"177:27:6","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":3084,"name":"uint256","nodeType":"ElementaryTypeName","src":"196:7:6","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":3126,"nodeType":"FunctionDefinition","src":"229:322:6","nodes":[],"body":{"id":3125,"nodeType":"Block","src":"299:252:6","nodes":[],"statements":[{"expression":{"id":3100,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":3095,"name":"s_balances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3086,"src":"309:10:6","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":3098,"indexExpression":{"expression":{"id":3096,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"320:3:6","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":3097,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"324:6:6","memberName":"sender","nodeType":"MemberAccess","src":"320:10:6","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"309:22:6","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":3099,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3088,"src":"335:6:6","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"309:32:6","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3101,"nodeType":"ExpressionStatement","src":"309:32:6"},{"assignments":[3103],"declarations":[{"constant":false,"id":3103,"mutability":"mutable","name":"success","nameLocation":"356:7:6","nodeType":"VariableDeclaration","scope":3125,"src":"351:12:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":3102,"name":"bool","nodeType":"ElementaryTypeName","src":"351:4:6","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":3116,"initialValue":{"arguments":[{"expression":{"id":3108,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"406:3:6","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":3109,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"410:6:6","memberName":"sender","nodeType":"MemberAccess","src":"406:10:6","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":3112,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"438:4:6","typeDescriptions":{"typeIdentifier":"t_contract$_StakeContract_$3127","typeString":"contract StakeContract"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_StakeContract_$3127","typeString":"contract StakeContract"}],"id":3111,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"430:7:6","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":3110,"name":"address","nodeType":"ElementaryTypeName","src":"430:7:6","typeDescriptions":{}}},"id":3113,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"430:13:6","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":3114,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3088,"src":"457:6:6","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":3105,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3090,"src":"373:5:6","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":3104,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3021,"src":"366:6:6","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$3021_$","typeString":"type(contract IERC20)"}},"id":3106,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"366:13:6","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$3021","typeString":"contract IERC20"}},"id":3107,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"380:12:6","memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":3020,"src":"366:26:6","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":3115,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"366:107:6","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"351:122:6"},{"condition":{"id":3118,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"487:8:6","subExpression":{"id":3117,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3103,"src":"488:7:6","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3122,"nodeType":"IfStatement","src":"483:37:6","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":3119,"name":"TransferFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3082,"src":"504:14:6","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":3120,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"504:16:6","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3121,"nodeType":"RevertStatement","src":"497:23:6"}},{"expression":{"id":3123,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3103,"src":"537:7:6","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":3094,"id":3124,"nodeType":"Return","src":"530:14:6"}]},"functionSelector":"7acb7757","implemented":true,"kind":"function","modifiers":[],"name":"stake","nameLocation":"238:5:6","parameters":{"id":3091,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3088,"mutability":"mutable","name":"amount","nameLocation":"252:6:6","nodeType":"VariableDeclaration","scope":3126,"src":"244:14:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3087,"name":"uint256","nodeType":"ElementaryTypeName","src":"244:7:6","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":3090,"mutability":"mutable","name":"token","nameLocation":"268:5:6","nodeType":"VariableDeclaration","scope":3126,"src":"260:13:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":3089,"name":"address","nodeType":"ElementaryTypeName","src":"260:7:6","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"243:31:6"},"returnParameters":{"id":3094,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3093,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":3126,"src":"293:4:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":3092,"name":"bool","nodeType":"ElementaryTypeName","src":"293:4:6","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"292:6:6"},"scope":3127,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"StakeContract","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[3127],"name":"StakeContract","nameLocation":"157:13:6","scope":3128,"usedErrors":[3082],"usedEvents":[]}],"license":"UNLICENSED"},"id":6}